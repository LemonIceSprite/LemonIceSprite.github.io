<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Wang Hemeng&#039;s page</title><meta description="C"><meta property="og:type" content="website"><meta property="og:title" content="王赫萌"><meta property="og:url" content="https://lemonicesprite.github.io/"><meta property="og:site_name" content="王赫萌"><meta property="og:description" content="C"><meta property="og:locale" content="en_US"><meta property="article:author" content="LemonIceSprite"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://lemonicesprite.github.io/img/avatar.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://lemonicesprite.github.io/"},"headline":"王赫萌","image":["https://lemonicesprite.github.io/img/avatar.png"],"author":{"@type":"Person","name":"lemonicesprite"},"description":"C"}</script><link rel="alternative" href="/atom.xml" title="Wang Hemeng&#039;s page" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Wang Hemeng&#039;s page" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lemonicesprite"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card widget">   <div class="card-content">       <h3 class="menu-label">热门推荐</h3><span id="index_hot_div">加载中，稍等几秒...</span>   </div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-12T05:18:16.000Z">2020-04-12</time><a class="commentCountImg" href="/2020/04/12/C%E8%AF%AD%E8%A8%80%E2%80%94%E2%80%94%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84/#comment-container"><span class="display-none-class">4849a8fd832b68cf3fe7b4cd41a2cb44</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="4849a8fd832b68cf3fe7b4cd41a2cb44"> 99+</span>    </a><span class="level-item">21 minutes read (About 3197 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/12/C%E8%AF%AD%E8%A8%80%E2%80%94%E2%80%94%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84/">C语言——指针与数组</a></h1><div class="content"><h2 id="什么是数据类型？"><a href="#什么是数据类型？" class="headerlink" title="什么是数据类型？"></a>什么是数据类型？</h2><p>对于淳朴善良的计算机来说，形形色色的数据并没有什么不同，它只是简单的认识0和1而已。那么，在实际存储的时候，它又要怎么区分各种类型的数据呢？首先让我们来看一下，在C语言中，都有哪些数据类型。</p>
<blockquote>
<p>在 C 语言中，数据类型指的是用于声明不同类型的变量或函数的一个广泛的系统。变量的类型决定了变量存储占用的空间，以及如何解释存储的位模式。</p>
<p>C 中的类型可分为以下几种：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型与描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>基本类型：</strong> 它们是算术类型，包括两种类型：整数类型和浮点类型。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>枚举类型：</strong> 它们也是算术类型，被用来定义在程序中只能赋予其一定的离散整数值的变量。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>void 类型：</strong> 类型说明符 <em>void</em> 表明没有可用的值。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>派生类型：</strong> 它们包括：指针类型、数组类型、结构类型、共用体类型和函数类型。</td>
</tr>
</tbody></table>
<h3 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h3><p>下表列出了关于标准整数类型的存储大小和值范围的细节：</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">存储大小</th>
<th align="left">值范围</th>
</tr>
</thead>
<tbody><tr>
<td align="left">char</td>
<td align="left">1 字节</td>
<td align="left">-128 到 127 或 0 到 255</td>
</tr>
<tr>
<td align="left">unsigned char</td>
<td align="left">1 字节</td>
<td align="left">0 到 255</td>
</tr>
<tr>
<td align="left">signed char</td>
<td align="left">1 字节</td>
<td align="left">-128 到 127</td>
</tr>
<tr>
<td align="left">int</td>
<td align="left">2 或 4 字节</td>
<td align="left">-32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647</td>
</tr>
<tr>
<td align="left">unsigned int</td>
<td align="left">2 或 4 字节</td>
<td align="left">0 到 65,535 或 0 到 4,294,967,295</td>
</tr>
<tr>
<td align="left">short</td>
<td align="left">2 字节</td>
<td align="left">-32,768 到 32,767</td>
</tr>
<tr>
<td align="left">unsigned short</td>
<td align="left">2 字节</td>
<td align="left">0 到 65,535</td>
</tr>
<tr>
<td align="left">long</td>
<td align="left">4 字节</td>
<td align="left">-2,147,483,648 到 2,147,483,647</td>
</tr>
<tr>
<td align="left">unsigned long</td>
<td align="left">4 字节</td>
<td align="left">0 到 4,294,967,295</td>
</tr>
</tbody></table>
<h3 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h3><p>下表列出了关于标准浮点类型的存储大小、值范围和精度的细节：</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">存储大小</th>
<th align="left">值范围</th>
<th align="left">精度</th>
</tr>
</thead>
<tbody><tr>
<td align="left">float</td>
<td align="left">4 字节</td>
<td align="left">1.2E-38 到 3.4E+38</td>
<td align="left">6 位小数</td>
</tr>
<tr>
<td align="left">double</td>
<td align="left">8 字节</td>
<td align="left">2.3E-308 到 1.7E+308</td>
<td align="left">15 位小数</td>
</tr>
<tr>
<td align="left">long double</td>
<td align="left">16 字节</td>
<td align="left">3.4E-4932 到 1.1E+4932</td>
<td align="left">19 位小数</td>
</tr>
</tbody></table>
<h3 id="void-类型"><a href="#void-类型" class="headerlink" title="void 类型"></a>void 类型</h3><p>void 类型指定没有可用的值。它通常用于以下三种情况下：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型与描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>函数返回为空</strong> C 中有各种函数都不返回值，或者您可以说它们返回空。不返回值的函数的返回类型为空。例如 <strong>void exit (int status);</strong></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>函数参数为空</strong> C 中有各种函数不接受任何参数。不带参数的函数可以接受一个 void。例如 <strong>int rand(void);</strong></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>指针指向 void</strong> 类型为 void * 的指针代表对象的地址，而不是类型。例如，内存分配函数 <strong>void *malloc( size_t size );</strong> 返回指向 void 的指针，可以转换为任何数据类型。</td>
</tr>
</tbody></table>
</blockquote>
<h2 id="数据在内存中是怎么存储的呢？"><a href="#数据在内存中是怎么存储的呢？" class="headerlink" title="数据在内存中是怎么存储的呢？"></a>数据在内存中是怎么存储的呢？</h2><h3 id="非数组变量的存储方式"><a href="#非数组变量的存储方式" class="headerlink" title="非数组变量的存储方式"></a>非数组变量的存储方式</h3><p>当我们需要一个整数类型的变量是，我们通常会这么做：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>那么在实际的内存中，上面这句话的意思就是：</p>
<blockquote>
<p>喂？计算机是吧？那啥，我这需要一个int型的变量，给点地方，对就是4个字节，初始值给它赋个0，下次有人问你a在哪你就带它过去哦，别忘了！</p>
</blockquote>
<p>就这样，在程序运行时的内存中，就有这么一片地方叫a，它的数据类型时是int，以后只要是对a进行操作，计算机都会回到这个地方，进行相应的读写操作。</p>
<p>所有的非数组变量都是这么存储的，包括整数呀，浮点数呀，指针呀。没错，指针其实也是一个变量，只不过它存储的不是数值，而是地址，地址有什么用呢？往下看就知道了。</p>
<h3 id="数组变量的存储方式"><a href="#数组变量的存储方式" class="headerlink" title="数组变量的存储方式"></a>数组变量的存储方式</h3><p>那么如果我们需要一个数组是，我们应该怎么做呢？答案是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">6</span>];</span><br></pre></td></tr></table></figure>

<p>那么实际上这句话做了什么事情呢？应该是这样的：</p>
<blockquote>
<p>喂？没错又是我，这次需要的地方稍微大了点，给我六个int型变量需要的地方哦，要连续的，别给我分成散的。对了，记得把分配好的地方的首地址叫做a，免得人家以后找不到了。这次人家没说初始值是啥，你看着给就行。</p>
</blockquote>
<p>当我们需要一个数组时，计算机就要把所有的需要的内存一次性连续的分配好。当我们需要使用时，直接a[0] a[1] a[2] 的用就可以了。</p>
<h2 id="神奇的指针"><a href="#神奇的指针" class="headerlink" title="神奇的指针"></a>神奇的指针</h2><p>在计算机的世界里，大部分数据都有着各自的数学含义，但指针是个小小的例外。它存储着一种计算机独有的数据——地址。在许多高级语言中，程序员不可以直接对内存进行操作，比如想要访问a，就必须要告诉计算机我需要对a进行一些操作。但在C语言中，除了喊a的名字让计算机帮我找到它以外，还可以直接告诉计算机a的门牌号（地址），让计算机对地址所在的元素进行操作，不管它叫a还是叫b，直接操作就行。每种数据类型都有自己的地址，int型的指针是int *，float型的指针是float *，而int *的指针则是int **。</p>
<blockquote>
<p>直接利用地址对数据进行操作是有风险的。因为没有了聪明的计算机带路，程序员自己有可能会找错所需要的变量，甚至有可能会不小心对其他程序的变量进行了操作。就好比小明同学正在一边打游戏一边上网课，他本来想对队友说：“猥琐发育，别浪！”。但是粗心的程序员不小心写错了地址，结果这句话就被阴差阳错地发送到了网课的聊天窗口里边去了。这可不太好。</p>
</blockquote>
<h2 id="指针和数组的关系"><a href="#指针和数组的关系" class="headerlink" title="指针和数组的关系"></a>指针和数组的关系</h2><p>之前我们说过，想要访问数组中的元素是，直接用a[0] a[1]就可以访问了，那么有没有人会想，a是什么呢？眼尖的同学可能在刚才看到了，a实际上就是整个数组在内存中的起始地址，而地址正是用指针型的变量存储的。当我们想要访问a[2]时，计算机会先根据a里边的地址找到数据的起始位置，再根据指针所对应的数据类型进行2个单元（int型为4个字节）的偏移。</p>
<blockquote>
<p>计算机：哦～这会需要找a[2]，让我先看看a里边存的谁家的门牌号，找到了！是找谁来着？哦对a[2]，那就往后移动2个单位。我看看，一个int是4个字节，两个int就是8个字节，往后走8个字节，就是你了！</p>
</blockquote>
<p>由于C语言是一门编译型的语言，程序所需要的内存应该在编译结束后就确定好。这就是为什么在早期的C语言标准中，不可以使用 int a[n]; 这种写法。可是在实际的使用过程中，一切都是不可确定的，比如这次我需要数组中有20个位置来存放学生的学号，下一次就可能是50个学生。如果都按照有可能出现的上限来分配的话，程序就会非常非常大，内存也是一种有限的资源，我们应该节俭一点才对。这时动态内存管理就出现了。</p>
<blockquote>
<p>C 语言为内存的分配和管理提供了几个函数。这些函数可以在 &lt;stdlib.h&gt; 头文件中找到。</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">函数和描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>void *calloc(int num, int size);</strong> 在内存中动态地分配 num 个长度为 size 的连续空间，并将每一个字节都初始化为 0。所以它的结果是分配了 num*size 个字节长度的内存空间，并且每个字节的值都是0。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>void free(void *address);</strong> 该函数释放 address 所指向的内存块,释放的是动态分配的内存空间。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>void *malloc(int num);</strong> 在堆区分配一块指定大小的内存空间，用来存放数据。这块内存空间在函数执行完成后不会被初始化，它们的值是未知的。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>void *realloc(void *address, int newsize);</strong> 该函数重新分配内存，把内存扩展到 <strong>newsize</strong>。</td>
</tr>
</tbody></table>
</blockquote>
<p>有了这些内存管理函数，我们初始化数组的方式就有了新的选择：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *a = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">6</span>); </span><br><span class="line"><span class="comment">// 基本等价于 int a[6];</span></span><br><span class="line"><span class="comment">// sizeof(int)的返回值为一个int类型变量所需要的空间大小</span></span><br></pre></td></tr></table></figure>

<p>之前我们使用的初始化数组的方式为静态内存分配，非常死板，不太灵活。但是有了动态内存分配之后，我们就不需要在程序运行前就确定好数据的大小，只需要在创建好一个指针后，利用动态内存分配函数找到一片合适的地方，占山为王，同时把地址返回给a就可以了。当我们需要访问数组a中的第三个元素是，用法和之前一模一样，用a[2]就可以找到了，是不是很方便。</p>
<blockquote>
<p>在使用动态内存分配时需要注意，计算机的内存一般是不会自动释放的，当我们不再使用创建好的数组时，应该使用 free(a); 来释放a所代表的数组，将内存空间留给后来有需要的人。毕竟内存是一种很宝贵的资源，去看看淘宝上8G的内存条和8G的U盘价格差多少就大概有个概念了。</p>
</blockquote>
<h2 id="一维数组存储二维矩阵"><a href="#一维数组存储二维矩阵" class="headerlink" title="一维数组存储二维矩阵"></a>一维数组存储二维矩阵</h2><p>在平时的印象中，如果我们需要存储一个向量，就会毫不犹豫的选择用一维数组来存，而当我们需要存储一个矩阵时，二维数组看起来是个不错的选择。这时如果想进行动态内存分配，我们应该这样：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> **A = (<span class="keyword">int</span> **)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span> *) * <span class="number">20</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++)</span><br><span class="line">	A[i] = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">30</span>);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++)</span><br><span class="line">	<span class="built_in">free</span>(A[i]);</span><br><span class="line"><span class="built_in">free</span>(A);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>有的同学可能就会说了，这东西看起来就好像挺复杂的，人家静态分配就一句话的事，本来说好的你动态就比人家多一句 free(); 怎么现在还扯上循环了呢？不行不行，不能用动态分配了，我还是提前多分点，不就是内存吗，我还是多掏俩钱吧，省心！</p>
</blockquote>
<p>这样看起来好像的确挺麻烦的，可是有些时候我们是真的需要动态内存分配的，矩阵的大小是很难预计的，有的可能是个2*3的小矩阵，而有的则可能是上千万行的行与列的科学矩阵，这可不是有钱任性的时候。聪明的人们就在想，能不能用一维数组来表示矩阵呢？答案是可以的，让我们先来把地方先找好：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *A = (<span class="keyword">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">20</span> *<span class="number">30</span>);</span><br></pre></td></tr></table></figure>

<p>可是这是线性的呀，怎么表示二维的矩阵呢？其实只要地方有了，怎么表示这个问题，总有人可以解决的，这里就用一个矩阵打印函数来说明吧：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMat</span><span class="params">(<span class="keyword">int</span> *A, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> <span class="comment">// A是一个m行n列的矩阵</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">"%d "</span>,A[i*n + j]); <span class="comment">// 打印第i行第n列的元素</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\n"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其实就是相当于把一个二维矩阵，每一行首位相连，就把它们拼成了一个一维数组，在寻址的时候，只需要算好想找的元素在数组的哪一个位置即可。一般来说如果这个矩阵一行有n个元素，A[ i*n + j ] 就代表矩阵中的第i行第j列的元素。</p>
<p>至此，我们这节课的内容基本就结束啦！</p>
</div><div class="index-category-tag">  </div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-05T02:35:01.000Z">2020-04-05</time><a class="commentCountImg" href="/2020/04/05/Shadowsocks/#comment-container"><span class="display-none-class">57ff7f37e18dcec0d440475bb1b1781d</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="57ff7f37e18dcec0d440475bb1b1781d"> 99+</span>    </a><span class="level-item">2 minutes read (About 226 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/05/Shadowsocks/">Shadowsocks配置日志</a></h1><div class="content"><h1 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h1><p>安装shadowsocks服务端</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install shadowsocks --user</span><br></pre></td></tr></table></figure>

<p>安装成功后添加环境变量</p>
<p>编辑 .bashrc 或 .zshrc (具体路径使情况而定)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;&quot;&quot;$PATH:.local&#x2F;bin&quot;</span><br></pre></td></tr></table></figure>

<p>若能成功展示shadowsocks版本，则安装成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver --version</span><br></pre></td></tr></table></figure>

<p>编写shadowsocks配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim shadowsocks.json</span><br></pre></td></tr></table></figure>

<p>server后改为服务端ip地址 (ifconfig)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">	&quot;local_address&quot;:&quot;172.0.0.1&quot;,</span><br><span class="line">	&quot;local_port&quot;:1080,</span><br><span class="line">	&quot;port_password&quot;: &#123;</span><br><span class="line">	&quot;1785&quot;: &quot;12345678&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;timeout&quot;:300,</span><br><span class="line">	&quot;method&quot;:&quot;rc4-md5&quot;,</span><br><span class="line">	&quot;fast_open&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动服务端ssserver服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c shadowsocks.json</span><br></pre></td></tr></table></figure>



<p>若产生Traceback报错(不一定能解决，有时因为端口被占用)</p>
<p>更改shadowsocks中的python文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim .local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;shadowsocks&#x2F;crypto&#x2F;openssl.py</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s&#x2F;cleanup&#x2F;reset</span><br></pre></td></tr></table></figure>

<p>再次启动服务即可</p>
<h1 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h1><p>在GitHub中下载相应版本的Shadowsocks客户端</p>
<blockquote>
<p><a href="https://github.com/shadowsocks">https://github.com/shadowsocks</a></p>
</blockquote>
<p>添加服务器相关配置(ip,port,password)</p>
<p>encryption 改为 json 文件中的 rc4-md5</p>
<p><img src="shadowsocks_preference.jpg" alt="shadowsocks_preference"></p>
<p>将代理模式设为全局模式(Global)</p>
<p>大功告成</p>
</div><div class="index-category-tag">  </div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-01-06T08:56:37.617Z">2020-01-06</time><a class="commentCountImg" href="/2020/01/06/hello-world/#comment-container"><span class="display-none-class">212d5e6f12a4c2d724f97255199c93a3</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="212d5e6f12a4c2d724f97255199c93a3"> 99+</span>    </a><span class="level-item">a minute read (About 123 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/06/hello-world/">Hello World</a></h1><div class="content"><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div><div class="index-category-tag">  </div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><!--!--><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.png" alt="王赫萌"></figure><p class="title is-size-4 is-block line-height-inherit">王赫萌</p><p class="is-size-6 is-block">Better late than never</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>北京</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://weibo.com/u/3025654593" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/LemonIceSprite"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/u/3025654593"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:wanghemeng@163.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Next" href="https://lemonicesprite.github.io/remove.io"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟延迟...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-12T05:18:16.000Z">2020-04-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/12/C%E8%AF%AD%E8%A8%80%E2%80%94%E2%80%94%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84/">C语言——指针与数组</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-05T02:35:01.000Z">2020-04-05</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/05/Shadowsocks/">Shadowsocks配置日志</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-01-06T08:56:37.617Z">2020-01-06</time></p><p class="title is-6"><a class="link-muted" href="/2020/01/06/hello-world/">Hello World</a></p><p class="is-uppercase"></p></div></article></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=removeifFeedsId&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="removeifFeedsId" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div><p class="help">输入邮箱开始订阅，更博后邮件通知！</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Wang Hemeng&#039;s page" height="28"></a><p class="size-small"><span>&copy; 2020 Wang Hemeng</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">removeif</a> <br><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br></span><span><script type="text/javascript" src="/js/statistics.js"></script><script>var now = new Date();setInterval("createTime('2020/4/12 00:00:00')", 250,"");</script><span id="statistic-times">网站运行时间统计加载中...</span><br></span><div class="size-small"><span id="busuanzi_container_site_uv">❤️感谢<strong> <span id="busuanzi_value_site_uv">99+</span> </strong></span>小伙伴的<strong> <span id="busuanzi_value_site_pv">99+</span> </strong>次光临！❤️</div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lemonicesprite"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://lemonicesprite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/js/lightgallery-all.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><!--!--><!--!--><!--!--><script src="/js/toc.js" defer></script><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="Type something..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: 'Posts',
                    PAGES: 'Pages',
                    CATEGORIES: 'Categories',
                    TAGS: 'Tags',
                    UNTITLED: '(Untitled)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>